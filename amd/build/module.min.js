define(["jquery"],function(a){var b={};return b.bind=function(c){a(".search_user_toggle").each(function(){a(this).off("click"),a(this).on("click",function(){var b=a(this).data("userid");a("#hidden_user_"+b).toggle();var c=M.cfg.wwwroot+"/blocks/search_user/pix/"+(a(this).attr("src").indexOf("plus.png")>-1?"minus.png":"plus.png");a(this).attr("src",c)})}),a("#search_user_form").off("submit"),a("#search_user_form").on("submit",function(d){var e=a("#search_user_search").val();e.trim();var f=a("#search_user_results");if(f.html(""),""==e)return d.preventDefault(),d.stopPropagation(),!1;var g='<img id="search_user_loading" src="'+M.cfg.wwwroot+'/blocks/search_user/pix/load.gif" />';return f.html('<div class="search_user_loading">'+g+"</div>"),a.post(M.cfg.wwwroot+"/blocks/search_user/ajax/search.php",{course:c,search:e}).done(function(a){f.html(a),b.bind(c)}).fail(function(){f.html("")}),d.preventDefault(),d.stopPropagation(),!0}),a("#search_user_clear").off("click"),a("#search_user_clear").on("click",function(b){return a("#search_user_search").val(""),a("#search_user_results").html(""),b.preventDefault(),b.stopPropagation(),!0})},b.init=function(a){b.bind(a)},b});